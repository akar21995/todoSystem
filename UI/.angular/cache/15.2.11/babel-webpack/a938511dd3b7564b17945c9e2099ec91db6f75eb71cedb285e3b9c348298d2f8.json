{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\n// export interface Todo {\n//   taskId: number;\n//   title: string;\n//   description: string;\n//   status: string;\n// }\nexport class TodoService {\n  constructor(http) {\n    this.http = http;\n    this.todos = [];\n    this.todosSubject = new BehaviorSubject(this.todos);\n    this.apiUrl = \"http://localhost:3000\";\n  }\n  getTodos() {\n    return this.http.get(`${this.apiUrl}/private/api/task`);\n  }\n  statusFilterTodos(status) {\n    return this.http.get(`${this.apiUrl}/private/api/task/taskList/filter?status=${status}`);\n  }\n  getIdFilterTodo(id) {\n    return this.http.get(`${this.apiUrl}/private/api/task/${id}`);\n  }\n  addTodo(todo) {\n    return this.http.post(`${this.apiUrl}/private/api/task`, todo);\n  }\n  updateTodo(updatedTodo) {\n    // const index = this.todos.findIndex(todo => todo.id === updatedTodo.id);\n    // if (index !== -1) {\n    //   this.todos[index] = updatedTodo;\n    //   this.todosSubject.next(this.todos);\n    // }\n  }\n  deleteTodo(id) {\n    // this.todos = this.todos.filter(todo => todo.id !== id);\n    this.todosSubject.next(this.todos);\n  }\n  setTodosFromCSV(todos) {\n    this.todos = todos;\n    this.todosSubject.next(this.todos);\n  }\n  getTodosAsCSV() {\n    return this.todos;\n  }\n  static #_ = this.ɵfac = function TodoService_Factory(t) {\n    return new (t || TodoService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TodoService,\n    factory: TodoService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"mappings":"AAGA,SAASA,eAAe,QAAQ,MAAM;;;AAEtC;AACA;AACA;AACA;AACA;AACA;AAKA,OAAM,MAAOC,WAAW;EAMtBC,YACUC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IANN,UAAK,GAAW,EAAE;IAClB,iBAAY,GAAG,IAAIH,eAAe,CAAS,IAAI,CAACI,KAAK,CAAC;IAEtD,WAAM,GAAG,uBAAuB;EAIrC;EAEHC,QAAQ;IACN,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACC,MAAM,mBAAmB,CAAC;EACzD;EAEAC,iBAAiB,CAACC,MAAc;IAC9B,OAAO,IAAI,CAACN,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACC,MAAM,4CAA4CE,MAAM,EAAE,CAAC;EAC1F;EAEAC,eAAe,CAACC,EAAU;IACxB,OAAO,IAAI,CAACR,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACC,MAAM,qBAAqBI,EAAE,EAAE,CAAC;EAC/D;EAEAC,OAAO,CAACC,IAAU;IAChB,OAAO,IAAI,CAACV,IAAI,CAACW,IAAI,CAAC,GAAG,IAAI,CAACP,MAAM,mBAAmB,EAAEM,IAAI,CAAC;EAChE;EAEAE,UAAU,CAACC,WAAiB;IAC1B;IACA;IACA;IACA;IACA;EAAA;EAGFC,UAAU,CAACN,EAAU;IACnB;IACA,IAAI,CAACO,YAAY,CAACC,IAAI,CAAC,IAAI,CAACf,KAAK,CAAC;EACpC;EAEAgB,eAAe,CAAChB,KAAa;IAC3B,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACc,YAAY,CAACC,IAAI,CAAC,IAAI,CAACf,KAAK,CAAC;EACpC;EAEAiB,aAAa;IACX,OAAO,IAAI,CAACjB,KAAK;EACnB;EAAC;qBA9CUH,WAAW;EAAA;EAAA;WAAXA,WAAW;IAAAqB,SAAXrB,WAAW;IAAAsB,YAFV;EAAM","names":["BehaviorSubject","TodoService","constructor","http","todos","getTodos","get","apiUrl","statusFilterTodos","status","getIdFilterTodo","id","addTodo","todo","post","updateTodo","updatedTodo","deleteTodo","todosSubject","next","setTodosFromCSV","getTodosAsCSV","factory","providedIn"],"sourceRoot":"","sources":["D:\\Test\\todo-list\\UI\\src\\app\\_service\\todo.service.ts"],"sourcesContent":["// src/app/todo.service.ts\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n// export interface Todo {\r\n//   taskId: number;\r\n//   title: string;\r\n//   description: string;\r\n//   status: string;\r\n// }\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TodoService {\r\n  private todos: Todo[] = [];\r\n  private todosSubject = new BehaviorSubject<Todo[]>(this.todos);\r\n\r\n  private apiUrl = \"http://localhost:3000\";\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  getTodos() {\r\n    return this.http.get(`${this.apiUrl}/private/api/task`);\r\n  }\r\n\r\n  statusFilterTodos(status: string) {\r\n    return this.http.get(`${this.apiUrl}/private/api/task/taskList/filter?status=${status}`);\r\n  }\r\n\r\n  getIdFilterTodo(id: string) {\r\n    return this.http.get(`${this.apiUrl}/private/api/task/${id}`);\r\n  }\r\n\r\n  addTodo(todo: Todo) {\r\n    return this.http.post(`${this.apiUrl}/private/api/task`, todo);\r\n  }\r\n\r\n  updateTodo(updatedTodo: Todo) {\r\n    // const index = this.todos.findIndex(todo => todo.id === updatedTodo.id);\r\n    // if (index !== -1) {\r\n    //   this.todos[index] = updatedTodo;\r\n    //   this.todosSubject.next(this.todos);\r\n    // }\r\n  }\r\n\r\n  deleteTodo(id: number) {\r\n    // this.todos = this.todos.filter(todo => todo.id !== id);\r\n    this.todosSubject.next(this.todos);\r\n  }\r\n\r\n  setTodosFromCSV(todos: Todo[]) {\r\n    this.todos = todos;\r\n    this.todosSubject.next(this.todos);\r\n  }\r\n\r\n  getTodosAsCSV() {\r\n    return this.todos;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}